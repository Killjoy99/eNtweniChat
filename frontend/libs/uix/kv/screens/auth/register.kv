<RegisterScreen>
    name: "register"
    md_bg_color: root.theme_cls.backgroundColor

    MDTopAppBar:
        id: topbar
        type: "small"
        pos_hint: {'top': 1}

        MDTopAppBarTitle:
            text: "Enter your phone number"

        MDTopAppBarTrailingButtonContainer:
            MDActionTopAppBarButton:
                icon: "dots-vertical"
                # on_release: root.menu.open()

    MDLabel:
        adaptive_size: True
        markup: True
        multiline: True
        # font_size: sp(9)
        halign: 'center'
        text: "eNtweniChat will send an SMS message to verify your \nphone number. [color=#008080][ref=https://chat.entweni.com/my_phone_number]What's my number?[/ref][/color]"
        pos_hint: {'center_x': 0.5, "center_y": .85}
        on_ref_press: 
            import webbrowser
            webbrowser.open(args[1])
            print(f"Ref {args[1]} Pressed")

    MDTextField:
        id: country
        mode: "filled"
        pos_hint: {'top': 0.8, "center_x": 0.5}
        text: "Zimbabwe"
        input_type: "number"
        md_bg_color: "blue"
        size_hint_x: None
        width: root.width / 1.3

    MDBoxLayout:
        orientation: 'horizontal'
        pos_hint: {'top': 0.7, "center_x": 0.5}
        adaptive_height: True
        size_hint_x: None
        width: root.width / 1.3
        spacing: dp(5)

        MDTextField:
            id: country_code
            mode: "filled"
            required: True
            size_hint_x: None
            width: dp(80)
            max_text_length: 4
            text: "+263"

        MDTextField:
            id: phone_number
            mode: "filled"
            required: True
            max_text_length: 10
            input_filter: "int"

    MDButton:
        pos_hint: {"center_x": .5, "center_y": .5}
        radius: dp(5)
        on_release: root.register(country_code.text+phone_number.text)
        MDButtonText:
            text: "Next"

    MDLabel:
        adaptive_size: True
        markup: True
        multiline: True
        font_size: sp(9)
        halign: 'center'
        text: "Carrier SMS charges may apply"
        pos_hint: {'center_x': 0.5, "center_y": .45}